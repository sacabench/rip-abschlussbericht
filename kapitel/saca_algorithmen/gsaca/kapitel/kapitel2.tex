\newpage
\subsection{Das Vorgehen}
\label{gsaca:chapter2}
%
Bevor der konkrete Algorithmus präsentiert  wird, wird in diesem Kapitel das allgemeine Vorgehen beschrieben. 
Das Suffix Array für ein gegebenes Wort wird in zwei Phasen konstruiert.\\

In der ersten Phase werden die Buchstaben in Gruppen eingeteilt und die sogenannten Gruppenkontexte bestimmt.
Ein Gruppenkontext ist ein Teilstring des originalen Wortes, so dass dieser Teilstring der Präfix eines Suffixes ist. 
Dieser Präfix umfasst den Beginn des Suffixes bis zu der Stelle, an der der Rest des Suffixes selbst ein Gruppenkontext ist. 
Alle Präfixe, welche aus den gleichen Zeichen bestehen, bilden dann eine Gruppe, welche die Startindices des entsprechenden Gruppenkontext im Wort enthält.

Für das Wort Banane haben wir beispielsweise die beiden Suffixe Banane und anane. 
Wie im Beispiel zu sehen sein wird, ist der berechnete Gruppenkontext des letztgenannten Suffixes anane selbst. 
Da der Gruppenkontext von Banane der Präfix bis zum nächsten Gruppenkontext ist, und anane der Gruppenkontext von anane ist, umfasst der Gruppenkontext von Banane nur den Buchstaben B. 
Die Gruppe des Gruppenkontextes B umfasst die Startindices aller Vorkommen dieses Gruppenkontextes.
In diesem Fall besteht diese Gruppe also nur aus dem Index 1.

Die initialen Gruppenkontexte sind die einzelnen Buchstaben des Wortes in lexikografischer Reihenfolge, beginnend mit dem Terminationssymbol \$.
Hieraus ergeben sich die anfänglichen Gruppen als Mengen der Indices der Vorkommen des entsprechenden Buchstabens im Wort.
Anschließend bearbeitet der Algorithmus die Gruppen in lexikografisch absteigender Reihenfolge. 
Dazu wird für jeden Buchstaben der Gruppe das direkte vorherige Zeichen im Wort betrachtet.
Die Gruppe, zu der dieses vorherige Zeichen gehört, wird als Vorgängergruppe bezeichnet.
Der Gruppenkontext dieser Vorgängergruppe wird nun um den Kontext der aktuell vom Algorithmus bearbeiteten Gruppe erweitert.
Dies bedeutet, dass der Gruppenkontext der Vorgängergruppe ersetzt wird durch die Konkatenation aus dem vorherigen Kontext der Vorgängergruppe und dem Kontext der aktuellen Gruppe.
Zusätzlich wird ein sogenannten \prevpointer gespeichert.
Dies ist ein Zeiger von einem Buchstaben zu dem Beginn des Gruppenkontext des direkt vorherigen Zeichens beginnt.
Es kann vorkommen, dass nicht alle Buchstaben der Vorgängergruppe im Wort direkt vor den Buchstaben der aktuell durch den Algorithmus bearbeiteten Gruppe liegen.
Falls nur ein Teil von der Vorgängergruppe getroffen wurde, findet nur bei dem getroffenen Teil der Vorgängergruppe eine Kontexterweiterung statt und sie wird in zwei Gruppen aufgeteilt.
Die erste Gruppe ist die Teilgruppe mit erweitertem Kontext, sie wird als Nachfolger der Teilgruppe ohne Kontexterweiterung hinzugefügt. 
Durch dieses Vorgehen werden iterativ alle Gruppen bearbeitet, deren Kontexte erweitert und gegebenenfalls in neue Gruppen aufgeteilt.\\

In der zweiten Phase wird die zuvor in Phase 1 berechnete Gruppenstruktur genutzt, um das finale Suffix Array zu erstellen. 
Hierzu werden die Gruppen durchlaufen, diesmal allerdings in lexikografisch aufsteigender Reihenfolge.
Zu Beginn ist \sa leer für alle Indices, bis auf die erste Stelle, an der der Index des Terminationssymbols \$ steht.
Anschließend wird über \sa iteriert.
Dazu wird in jedem Durchlauf das Zeichen des originalen Wortes an der Position, die in SA gespeichert ist, gesucht und das vorherige Zeichen betrachtet. 
Dann wird die Kette der \prevpointer ausgehend von diesem Zeichen durchlaufen, bis diese leer ist und die Indices der gefundenen Zeichen in SA gespeichert. 