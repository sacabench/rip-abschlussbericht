\clearpage
\subsubsection{qSufSort}

\textbf{Configuration} \hfill Model name: Intel\textsuperscript{\textregistered} Xeon\textsuperscript{\textregistered} CPU E5-2640 v4 @ 2.40GHz
% IMPORT-DATA stats2 ../results.txt

\begin{figure}[ht]
    \centering
    \begin{tikzpicture}
        \begin{axis}[
                name=axis1,
                cycle list name={exoticlines},
                width=0.5\textwidth,
                height=48mm,
                title={wiki.txt},
                xlabel={input size [GiB]},
                ylabel={SA construction time [min]},
                legend columns=2,
                legend to name=legend-seq-qsufsort-0,
                legend style={
                    /tikz/every even column/.append style={column sep=0.5cm,black},
                    /tikz/every even column/.append style={black},
                },
            ]

            %% MULTIPLOT(algo) SELECT prefix/1024/1024/1024.0 AS x, time/1000/60 AS y, MULTIPLOT
            %% FROM (
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep, thread_count, MEDIAN(time) AS time, sacheck FROM stats2 GROUP BY algo, input, prefix, rep, thread_count
            %% ) WHERE input="wiki.txt" AND sacheck="ok" 
            %% AND (algo="Naiv" OR algo="qsufsort" OR algo="qsufsort_ref")
            %% GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x
            \addplot coordinates { (0.195312,2.7048) (0.390625,6.0286) (0.78125,15.8137) (1.5625,28.8136) (2.34375,59.9193) (3.125,65.215) (3.90625,105.373) };
            \addlegendentry{algo=Naiv};
            \addplot coordinates { (0.195312,2.40105) (0.390625,5.22747) (0.78125,11.5856) (1.5625,27.6101) (2.34375,55.4266) (3.125,84.8983) };
            \addlegendentry{algo=qsufsort};
            \addplot coordinates { (0.195312,1.26217) (0.390625,3.15719) (0.78125,6.1854) (1.5625,13.9982) };
            \addlegendentry{algo=qsufsort\_ref};

        \end{axis}
        \begin{axis}[
                cycle list name={exoticlines},
                at={(axis1.outer north east)},
                anchor=outer north west,
                name=axis2,
                width=0.5\textwidth,
                height=48mm,
                title={wiki.txt},
                xlabel={input size [GiB]},
                ylabel={Extra Memory [GiB]},
            ]

            %% MULTIPLOT(algo) SELECT prefix/1024/1024/1024.0 AS x, memPeak/1024/1024/1024 AS y, MULTIPLOT
            %% FROM (
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep, thread_count, MEDIAN(time) AS time, sacheck FROM stats2 GROUP BY algo, input, prefix, rep, thread_count
            %% ) WHERE input="wiki.txt" AND sacheck="ok" 
            %% AND (algo="Naiv" OR algo="qsufsort" OR algo="qsufsort_ref")
            %% GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x
            \addplot coordinates { (0.195312,0.0) (0.390625,0.0) (0.78125,0.0) (1.5625,0.0) (2.34375,0.0) (3.125,0.0) (3.90625,0.0) };
            \addlegendentry{algo=Naiv};
            \addplot coordinates { (0.195312,0.783245) (0.390625,1.5645) (0.78125,3.127) (1.5625,6.252) (2.34375,18.752) (3.125,25.002) };
            \addlegendentry{algo=qsufsort};
            \addplot coordinates { (0.195312,3.125) (0.390625,6.25) (0.78125,12.5) (1.5625,25) };
            \addlegendentry{algo=qsufsort\_ref};

            \legend{}
        \end{axis}
    \end{tikzpicture}

    \medskip
    \ref{legend-seq-qsufsort-0}
    \caption{qSufSort auf wiki.txt}
\label{qsufsort_benchmark:1}
\end{figure}

\begin{figure}[ht]
    \centering
    \begin{tikzpicture}
        \begin{axis}[
                name=axis1,
                cycle list name={exoticlines},
                width=0.5\textwidth,
                height=48mm,
                title={dna.txt},
                xlabel={input size [GiB]},
                ylabel={SA construction time [min]},
                legend columns=2,
                legend to name=legend-seq-qsufsort-1,
                legend style={
                    /tikz/every even column/.append style={column sep=0.5cm,black},
                    /tikz/every even column/.append style={black},
                },
            ]

            %% MULTIPLOT(algo) SELECT prefix/1024/1024/1024.0 AS x, time/1000/60 AS y, MULTIPLOT
            %% FROM (
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep, thread_count, MEDIAN(time) AS time, sacheck FROM stats2 GROUP BY algo, input, prefix, rep, thread_count
            %% ) WHERE input="dna.txt" AND sacheck="ok" 
            %% AND (algo="Naiv" OR algo="qsufsort" OR algo="qsufsort_ref")
            %% GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x
            \addplot coordinates { (0.195312,3.07022) (0.390625,6.92539) (0.78125,15.1993) (1.5625,31.8829) (2.34375,50.4039) (3.125,86.2066) (3.90625,90.5095) };
            \addlegendentry{algo=Naiv};
            \addplot coordinates { (0.195312,1.80364) (0.390625,4.12069) (0.78125,9.03971) (1.5625,18.6786) (2.34375,37.2348) (3.125,45.4443) };
            \addlegendentry{algo=qsufsort};
            \addplot coordinates { (0.195312,1.13116) (0.390625,2.50599) (0.78125,5.44533) (1.5625,11.7436) };
            \addlegendentry{algo=qsufsort\_ref};

        \end{axis}
        \begin{axis}[
                cycle list name={exoticlines},
                at={(axis1.outer north east)},
                anchor=outer north west,
                name=axis2,
                width=0.5\textwidth,
                height=48mm,
                title={dna.txt},
                xlabel={input size [GiB]},
                ylabel={Extra Memory [GiB]},
            ]

            %% MULTIPLOT(algo) SELECT prefix/1024/1024/1024.0 AS x, memPeak/1024/1024/1024 AS y, MULTIPLOT
            %% FROM (
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep, thread_count, MEDIAN(time) AS time, sacheck FROM stats2 GROUP BY algo, input, prefix, rep, thread_count
            %% ) WHERE input="dna.txt" AND sacheck="ok" 
            %% AND (algo="Naiv" OR algo="qsufsort" OR algo="qsufsort_ref")
            %% GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x
            \addplot coordinates { (0.195312,0.0) (0.390625,0.0) (0.78125,0.0) (1.5625,0.0) (2.34375,0.0) (3.125,0.0) (3.90625,0.0) };
            \addlegendentry{algo=Naiv};
            \addplot coordinates { (0.195312,0.783245) (0.390625,1.5645) (0.78125,3.127) (1.5625,6.252) (2.34375,18.752) (3.125,25.002) };
            \addlegendentry{algo=qsufsort};
            \addplot coordinates { (0.195312,3.125) (0.390625,6.25) (0.78125,12.5) (1.5625,25) };
            \addlegendentry{algo=qsufsort\_ref};

            \legend{}
        \end{axis}
    \end{tikzpicture}

    \medskip
    \ref{legend-seq-qsufsort-1}
    \caption{qSufSort auf dna.txt}
\label{qsufsort_benchmark:2}
\end{figure}

\begin{figure}[ht]
    \centering
    \begin{tikzpicture}
        \begin{axis}[
                name=axis1,
                cycle list name={exoticlines},
                width=0.5\textwidth,
                height=48mm,
                title={commoncrawl.txt},
                xlabel={input size [GiB]},
                ylabel={SA construction time [min]},
                legend columns=2,
                legend to name=legend-seq-qsufsort-2,
                legend style={
                    /tikz/every even column/.append style={column sep=0.5cm,black},
                    /tikz/every even column/.append style={black},
                },
            ]

            %% MULTIPLOT(algo) SELECT prefix/1024/1024/1024.0 AS x, time/1000/60 AS y, MULTIPLOT
            %% FROM (
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep, thread_count, MEDIAN(time) AS time, sacheck FROM stats2 GROUP BY algo, input, prefix, rep, thread_count
            %% ) WHERE input="commoncrawl.txt" AND sacheck="ok" 
            %% AND (algo="Naiv" OR algo="qsufsort" OR algo="qsufsort_ref")
            %% GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x
            \addplot coordinates { (0.195312,7.14747) (0.390625,11.1463) (0.78125,26.6099) (1.5625,62.0999) };
            \addlegendentry{algo=Naiv};
            \addplot coordinates { (0.195312,2.9285) (0.390625,6.49794) (0.78125,14.4873) (1.5625,32.9371) (2.34375,52.4071) };
            \addlegendentry{algo=qsufsort};
            \addplot coordinates { (0.195312,1.44855) (0.390625,3.1407) (0.78125,6.92753) (1.5625,15.4028) };
            \addlegendentry{algo=qsufsort\_ref};

        \end{axis}
        \begin{axis}[
                cycle list name={exoticlines},
                at={(axis1.outer north east)},
                anchor=outer north west,
                name=axis2,
                width=0.5\textwidth,
                height=48mm,
                title={commoncrawl.txt},
                xlabel={input size [GiB]},
                ylabel={Extra Memory [GiB]},
            ]

            %% MULTIPLOT(algo) SELECT prefix/1024/1024/1024.0 AS x, memPeak/1024/1024/1024 AS y, MULTIPLOT
            %% FROM (
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep, thread_count, MEDIAN(time) AS time, sacheck FROM stats2 GROUP BY algo, input, prefix, rep, thread_count
            %% ) WHERE input="commoncrawl.txt" AND sacheck="ok" 
            %% AND (algo="Naiv" OR algo="qsufsort" OR algo="qsufsort_ref")
            %% GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x
            \addplot coordinates { (0.195312,0.0) (0.390625,0.0) (0.78125,0.0) (1.5625,0.0) };
            \addlegendentry{algo=Naiv};
            \addplot coordinates { (0.195312,0.783245) (0.390625,1.5645) (0.78125,3.127) (1.5625,6.252) (2.34375,18.752) };
            \addlegendentry{algo=qsufsort};
            \addplot coordinates { (0.195312,3.125) (0.390625,6.25) (0.78125,12.5) (1.5625,25) };
            \addlegendentry{algo=qsufsort\_ref};

            \legend{}
        \end{axis}
    \end{tikzpicture}

    \medskip
    \ref{legend-seq-qsufsort-2}
    \caption{qSufSort auf commoncrawl.txt}
\label{qsufsort_benchmark:3}
\end{figure}
\FloatBarrier

Die \currentauthor{Hermann Foot} Abbildungen \ref{qsufsort_benchmark:1}, \ref{qsufsort_benchmark:2} und \ref{qsufsort_benchmark:3} zeigen jeweils die Vergleiche zwischen unserer Implementierung des qSufSort, der Implementierung der Autoren Larsson und Sadakane und des naiven SACAs.

Auf allen drei Texten zeichnet sich sowohl für das Laufzeitverhalten, als auch für den Speicherverbrauch ein ähnliches Bild ab. Da die Referenzimplementierung des qSufSort lediglich 32-Bit-Typen verwendet, können Eingaben ab 1,6GB nicht mehr verarbeitet werden. Bis zu diesem Punkt jedoch, ist diese den anderen beiden Algorithmen bezüglich der Laufzeit überlegen. Bei beiden Varianten des Prefix-Doublers lässt sich darüber hinaus beobachten, dass die benötigte Laufzeit nahezu linear mit der Eingabegröße steigt, also gut mit dieser skaliert.
Im Vergleich zu zur Referenzimplementierung, verbraucht unsere Version des qSufSort weniger Speicher. Gut zu erkennen ist dabei der deutlich erhöhte Speicherverbrauch durch die Nutzung von 64-Bit Datentypen für Eingabegrößen >1.6GB. 

Unsere Implementierung bietet damit einen akzeptablen Trade-Off aus Speicherverbrauch und benötigter Laufzeit. Zudem kann diese 64-Bit-Datentypen verwenden, wodurch auch größere Eingaben verarbeitet werden können. Dennoch ist die Referenzimplementierung, vor allem wegen ihrer guten Laufzeit, von Relevanz. Ein mögliche Verbesserung dieser bestehe darin, sie auf 64-Bit-Typen zu erweitern, um diese auch für Eingabegrößen über 1.6GB vergleichen zu können.