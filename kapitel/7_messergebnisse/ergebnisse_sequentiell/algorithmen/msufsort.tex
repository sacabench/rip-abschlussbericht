\subsubsection{mSufSort}
\textbf{Configuration} \hfill Model name: Intel\textsuperscript{\textregistered} Xeon\textsuperscript{\textregistered} CPU E5-2640 v4 @ 2.40GHz
% IMPORT-DATA stats2 ../results.txt

\begin{figure}[ht]
    \centering
    \begin{tikzpicture}
        \begin{axis}[
                name=axis1,
                cycle list name={exoticlines},
                width=0.5\textwidth,
                height=65mm,
                title={wiki.txt},
                xlabel={input size [200\,MB]},
                ylabel={SA construction time [min]},
                legend columns=2,
                legend to name=legend-seq-msufsort-0,
                legend style={
                    /tikz/every even column/.append style={column sep=0.5cm,black},
                    /tikz/every even column/.append style={black},
                },
            ]

            %% MULTIPLOT(algo) SELECT thread_count AS x, time/1000/60 AS y, MULTIPLOT
            %% FROM (
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep, thread_count, MEDIAN(time) AS time, sacheck FROM stats2 GROUP BY algo, input, prefix, rep, thread_count
            %% ) WHERE input="wiki.txt" AND sacheck="ok" 
            %% AND (algo="Naiv" OR algo="MSufSort_ref" OR algo="mSufSort" OR algo="mSufSort_scan" OR algo="mSufSortV2")
            %% GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x
            \addplot coordinates { (1,0.782517) (2,1.68203) (4,4.35543) };
            \addlegendentry{algo=MSufSort\_ref};
            \addplot coordinates { (1,2.7048) (2,6.0286) (4,15.8137) (8,28.8136) (12,59.9193) (16,65.215) (20,105.373) };
            \addlegendentry{algo=Naiv};
            \addplot coordinates { (1,1.95084) (2,4.27795) (4,9.51012) (8,21.9919) (12,43.3486) (16,86.51) (20,82.9172) };
            \addlegendentry{algo=mSufSort};
            \addplot coordinates { (1,1.94875) (2,4.30847) (4,9.63943) (8,22.0164) (12,62.3474) (16,86.5071) (20,83.5823) };
            \addlegendentry{algo=mSufSortV2};
            \addplot coordinates { (1,1.55435) (2,3.31015) (4,7.13482) (8,16.0261) (12,29.481) (16,40.4728) (20,58.5878) };
            \addlegendentry{algo=mSufSort\_scan};

        \end{axis}
        \begin{axis}[
                cycle list name={exoticlines},
                at={(axis1.outer north east)},
                anchor=outer north west,
                name=axis2,
                width=0.5\textwidth,
                height=65mm,
                title={wiki.txt},
                xlabel={input size [200\,MB]},
                ylabel={Extra Memory [GiB]},
            ]

            %% MULTIPLOT(algo) SELECT thread_count AS x, memPeak/1024/1024/1024 AS y, MULTIPLOT
            %% FROM (
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep, thread_count, MEDIAN(time) AS time, sacheck FROM stats2 GROUP BY algo, input, prefix, rep, thread_count
            %% ) WHERE input="wiki.txt" AND sacheck="ok" 
            %% AND (algo="Naiv" OR algo="MSufSort_ref" OR algo="mSufSort" OR algo="mSufSort_scan" OR algo="mSufSortV2")
            %% GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x
            \addplot coordinates { (1,0.791069) (2,1.58811) (4,3.22572) };
            \addlegendentry{algo=MSufSort\_ref};
            \addplot coordinates { (1,0.0) (2,0.0) (4,0.0) (8,0.0) (12,0.0) (16,0.0) (20,0.0) };
            \addlegendentry{algo=Naiv};
            \addplot coordinates { (1,0.217544) (2,0.434778) (4,0.87032) (8,1.75387) (12,6.3341) (16,7.10395) (20,7.86432) };
            \addlegendentry{algo=mSufSort};
            \addplot coordinates { (1,0.217544) (2,0.434779) (4,0.870323) (8,1.75388) (12,6.33412) (16,7.10398) (20,7.86435) };
            \addlegendentry{algo=mSufSortV2};
            \addplot coordinates { (1,0.0237676) (2,0.0472056) (4,0.0940837) (8,0.187833) (12,0.750667) (16,0.750667) (20,0.750676) };
            \addlegendentry{algo=mSufSort\_scan};

            \legend{}
        \end{axis}
    \end{tikzpicture}

    \medskip
    \ref{legend-seq-msufsort-0}
    \caption{mSufSort Varianten auf wiki.txt}
    \label{msufsort_seq_1}
\end{figure}

\begin{figure}[ht]
    \centering
    \begin{tikzpicture}
        \begin{axis}[
                name=axis1,
                cycle list name={exoticlines},
                width=0.5\textwidth,
                height=65mm,
                title={dna.txt},
                xlabel={input size [200\,MB]},
                ylabel={SA construction time [min]},
                legend columns=2,
                legend to name=legend-seq-msufsort-1,
                legend style={
                    /tikz/every even column/.append style={column sep=0.5cm,black},
                    /tikz/every even column/.append style={black},
                },
            ]

            %% MULTIPLOT(algo) SELECT thread_count AS x, time/1000/60 AS y, MULTIPLOT
            %% FROM (
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep, thread_count, MEDIAN(time) AS time, sacheck FROM stats2 GROUP BY algo, input, prefix, rep, thread_count
            %% ) WHERE input="dna.txt" AND sacheck="ok" 
            %% AND (algo="Naiv" OR algo="MSufSort_ref" OR algo="mSufSort" OR algo="mSufSort_scan" OR algo="mSufSortV2")
            %% GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x
            \addplot coordinates { (1,0.987919) (2,2.05667) (4,4.34736) };
            \addlegendentry{algo=MSufSort\_ref};
            \addplot coordinates { (1,3.07022) (2,6.92539) (4,15.1993) (8,31.8829) (12,50.4039) (16,86.2066) (20,90.5095) };
            \addlegendentry{algo=Naiv};
            \addplot coordinates { (1,2.24159) (2,4.89998) (4,10.725) (8,23.0384) (12,46.5127) (16,91.4593) (20,87.4918) };
            \addlegendentry{algo=mSufSort};
            \addplot coordinates { (1,2.25888) (2,4.89013) (4,10.6987) (8,23.1582) (12,66.1913) (16,63.6582) (20,109.773) };
            \addlegendentry{algo=mSufSortV2};
            \addplot coordinates { (1,1.45278) (2,3.1275) (4,6.70207) (8,14.5312) (12,40.6898) (16,56.4297) (20,52.8466) };
            \addlegendentry{algo=mSufSort\_scan};

        \end{axis}
        \begin{axis}[
                cycle list name={exoticlines},
                at={(axis1.outer north east)},
                anchor=outer north west,
                name=axis2,
                width=0.5\textwidth,
                height=65mm,
                title={dna.txt},
                xlabel={input size [200\,MB]},
                ylabel={Extra Memory [GiB]},
            ]

            %% MULTIPLOT(algo) SELECT thread_count AS x, memPeak/1024/1024/1024 AS y, MULTIPLOT
            %% FROM (
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep, thread_count, MEDIAN(time) AS time, sacheck FROM stats2 GROUP BY algo, input, prefix, rep, thread_count
            %% ) WHERE input="dna.txt" AND sacheck="ok" 
            %% AND (algo="Naiv" OR algo="MSufSort_ref" OR algo="mSufSort" OR algo="mSufSort_scan" OR algo="mSufSortV2")
            %% GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x
            \addplot coordinates { (1,0.981613) (2,1.96313) (4,3.92618) };
            \addlegendentry{algo=MSufSort\_ref};
            \addplot coordinates { (1,0.0) (2,0.0) (4,0.0) (8,0.0) (12,0.0) (16,0.0) (20,0.0) };
            \addlegendentry{algo=Naiv};
            \addplot coordinates { (1,0.4704) (2,0.875001) (4,1.75) (8,3.5) (12,12.6519) (16,14.2148) (20,15.719) };
            \addlegendentry{algo=mSufSort};
            \addplot coordinates { (1,0.4704) (2,0.882813) (4,1.76563) (8,3.51563) (12,12.6519) (16,14.2148) (20,15.719) };
            \addlegendentry{algo=mSufSortV2};
            \addplot coordinates { (1,0.0937508) (2,0.375001) (4,0.750001) (8,1.5) (12,3) (16,3) (20,6) };
            \addlegendentry{algo=mSufSort\_scan};

            \legend{}
        \end{axis}
    \end{tikzpicture}

    \medskip
    \ref{legend-seq-msufsort-1}
    \caption{mSufSort Varianten auf dna.txt}
    \label{msufsort_seq_2}
\end{figure}

\begin{figure}[ht]
    \centering
    \begin{tikzpicture}
        \begin{axis}[
                name=axis1,
                cycle list name={exoticlines},
                width=0.5\textwidth,
                height=65mm,
                title={commoncrawl.txt},
                xlabel={input size [200\,MB]},
                ylabel={SA construction time [min]},
                legend columns=2,
                legend to name=legend-seq-msufsort-2,
                legend style={
                    /tikz/every even column/.append style={column sep=0.5cm,black},
                    /tikz/every even column/.append style={black},
                },
            ]

            %% MULTIPLOT(algo) SELECT thread_count AS x, time/1000/60 AS y, MULTIPLOT
            %% FROM (
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep, thread_count, MEDIAN(time) AS time, sacheck FROM stats2 GROUP BY algo, input, prefix, rep, thread_count
            %% ) WHERE input="commoncrawl.txt" AND sacheck="ok" 
            %% AND (algo="Naiv" OR algo="MSufSort_ref" OR algo="mSufSort" OR algo="mSufSort_scan" OR algo="mSufSortV2")
            %% GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x
            \addplot coordinates { (1,0.738372) (2,1.58835) (4,3.33703) };
            \addlegendentry{algo=MSufSort\_ref};
            \addplot coordinates { (1,7.14747) (2,11.1463) (4,26.6099) (8,62.0999) };
            \addlegendentry{algo=Naiv};
            \addplot coordinates { (1,2.8657) (2,6.24133) (4,12.4546) (8,26.7399) (12,51.1156) (16,91.7424) };
            \addlegendentry{algo=mSufSort};
            \addplot coordinates { (1,3.26857) (2,6.18884) (4,12.4494) (8,26.7709) (12,51.6743) (16,71.5554) };
            \addlegendentry{algo=mSufSortV2};
            \addplot coordinates { (1,5.4545) (2,11.3727) (4,20.1428) (8,39.0313) (12,68.3349) (16,87.2916) };
            \addlegendentry{algo=mSufSort\_scan};

        \end{axis}
        \begin{axis}[
                cycle list name={exoticlines},
                at={(axis1.outer north east)},
                anchor=outer north west,
                name=axis2,
                width=0.5\textwidth,
                height=65mm,
                title={commoncrawl.txt},
                xlabel={input size [200\,MB]},
                ylabel={Extra Memory [GiB]},
            ]

            %% MULTIPLOT(algo) SELECT thread_count AS x, memPeak/1024/1024/1024 AS y, MULTIPLOT
            %% FROM (
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep, thread_count, MEDIAN(time) AS time, sacheck FROM stats2 GROUP BY algo, input, prefix, rep, thread_count
            %% ) WHERE input="commoncrawl.txt" AND sacheck="ok" 
            %% AND (algo="Naiv" OR algo="MSufSort_ref" OR algo="mSufSort" OR algo="mSufSort_scan" OR algo="mSufSortV2")
            %% GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x
            \addplot coordinates { (1,0.792106) (2,1.57336) (4,3.15495) };
            \addlegendentry{algo=MSufSort\_ref};
            \addplot coordinates { (1,0.0) (2,0.0) (4,0.0) (8,0.0) };
            \addlegendentry{algo=Naiv};
            \addplot coordinates { (1,0.202018) (2,0.408039) (4,0.81636) (8,1.63092) (12,3.88998) (16,6.51905) };
            \addlegendentry{algo=mSufSort};
            \addplot coordinates { (1,0.202022) (2,0.408043) (4,0.816364) (8,1.63093) (12,3.89001) (16,6.51911) };
            \addlegendentry{algo=mSufSortV2};
            \addplot coordinates { (1,0.0238568) (2,0.0473121) (4,0.0941944) (8,0.187944) (12,0.375891) (16,0.750891) };
            \addlegendentry{algo=mSufSort\_scan};

            \legend{}
        \end{axis}
    \end{tikzpicture}

    \medskip
    \ref{legend-seq-msufsort-2}
    \caption{mSufSort Varianten auf commoncrawl.txt}
	\label{msufsort_seq_3}
\end{figure}
\FloatBarrier

In den Experimenten \ref{msufsort_seq_1}, \ref{msufsort_seq_2} und \ref{msufsort_seq_3} ist jeweils der naive Algorithmus langsamer als mSufSort_scan und die Referenzimplementierung. Die beiden anderen Varianten, mSufSort und mSufSortV2 sind teilweise ähnlich schlecht wie der naive SACA. Auf allen drei Texten ist jedoch die Referenzimplementierung jeweils deutlich am schnellsten; diese funktioniert aber nur für bis zu 800 Megabyte Eingabegröße. In \ref{msufsort_seq_1} und \ref{msufsort_seq_2} ist von den drei eigenen mSufSort-Varianten die Scan-Variante am schnellsten und hat auf allen drei Texten den geringsten Speicherverbrauch.
Die beiden anderen Varianten unterscheiden sich nur geringfügig in Laufzeit und Speicherverbrauch. Die Referenzimplementierung hat dagegen auf allen Eingaben den größten Speicherverbrauch, insbesondere bei Commoncrawl im Vergleich zur Scan-Variante.
In \ref{msufsort_seq_3} liegt die Scan-Variante nach oben versetzt zu den anderen Varianten,
skaliert aber zumindest nicht schlechter und liegt näher an den normalen MSufSort Varianten als am naiven Sortierer.
