\subsection{Vergleich der Referenzimplementierungen}

% IMPORT-DATA results_sequential results.txt

\begin{figure}[ht]
    \textbf{Configuration} \hfill Input file: wiki.txt \hfill Prefix size: 800\,MiB \\ Model name: Intel\textsuperscript{\textregistered} Xeon\textsuperscript{\textregistered} CPU E5-2640 v4 @ 2.40GHz
    \centering\small
    \begin{tikzpicture}[trim axis left]
        \begin{axis}[batchTimePlot,
            cycle list name={exotic},
            legend to name=runtime-all-ref-0,
            width=\textwidth,
            height=60mm,
            xtick style = {draw=none},
            xticklabel pos=upper,
            title={},
            bar width=12pt,
            ylabel={SA construction time [min]},
            legend style={
                /tikz/every even column/.append style={column sep=0.5cm,black},
                /tikz/every even column/.append style={black},
            },
            legend columns=2,
            symbolic x coords={ wiki.txt },
            every node near coord/.append style={color=black, rotate=90, anchor=west},
            ]

            %% MULTIPLOT(algo) SELECT algo, REPLACE(input, "_", "\_") AS x, time/1000/60 AS y
            %% FROM ( 
            %% SELECT algo, input, sacheck, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep_id, MEDIAN(time) AS time FROM results_sequential GROUP BY algo, input, prefix, rep_id
            %% ) WHERE input="wiki.txt" AND prefix=838860800 AND sacheck="ok"
            %% AND (algo LIKE "%_ref%" AND NOT algo LIKE "%par")
            %% AND rep_id=1 GROUP BY MULTIPLOT,x ORDER BY y
            \addplot coordinates { (wiki.txt,1.73052) };
            \addlegendentry{algo=DivSufSort\_ref};
            \addplot coordinates { (wiki.txt,2.75402) };
            \addlegendentry{algo=BPR\_ref};
            \addplot coordinates { (wiki.txt,2.77311) };
            \addlegendentry{algo=Deep-Shallow\_ref};
            \addplot coordinates { (wiki.txt,2.8182) };
            \addlegendentry{algo=SAIS-LITE\_ref};
            \addplot coordinates { (wiki.txt,4.35543) };
            \addlegendentry{algo=MSufSort\_ref};
            \addplot coordinates { (wiki.txt,5.17338) };
            \addlegendentry{algo=SACA-K\_ref};
            \addplot coordinates { (wiki.txt,6.1854) };
            \addlegendentry{algo=qsufsort\_ref};
            \addplot coordinates { (wiki.txt,7.28537) };
            \addlegendentry{algo=SAIS\_ref};
            \addplot coordinates { (wiki.txt,7.31669) };
            \addlegendentry{algo=GSACA\_ref};
            \addplot coordinates { (wiki.txt,9.19736) };
            \addlegendentry{algo=SADS\_ref};
            \addplot coordinates { (wiki.txt,23.235) };
            \addlegendentry{algo=DC3\_ref};
        \end{axis}
    \end{tikzpicture}
    \begin{tikzpicture}[trim axis left]
        \begin{axis}[batchTimePlot,
            cycle list name={exotic},
            width=\textwidth,
            height=60mm,
            xtick style = {draw=none},
            y dir=reverse,
            title={},
            bar width=12pt,
            ylabel={Extra Memory [GiB]},
            legend style={
                /tikz/every even column/.append style={column sep=0.5cm,black},
                /tikz/every even column/.append style={black},
            },
            legend columns=2,
            symbolic x coords={ wiki.txt },
            every node near coord/.append style={color=black, rotate=90, anchor=east, /pgf/number format/fixed},
            ]

            %% MULTIPLOT(algo) SELECT algo, REPLACE(input, "_", "\_") AS x, memPeak/1024/1024/1024 AS y
            %% FROM ( 
            %% SELECT algo, input, sacheck, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep_id, MEDIAN(time) AS time FROM results_sequential GROUP BY algo, input, prefix, rep_id
            %% ) WHERE input="wiki.txt" AND prefix=838860800 AND sacheck="ok"
            %% AND (algo LIKE "%_ref%" AND NOT algo LIKE "%par")
            %% AND rep_id=1 GROUP BY MULTIPLOT,x ORDER BY time
            \addplot coordinates { (wiki.txt,0.000249021) };
            \addlegendentry{algo=DivSufSort\_ref};
            \addplot coordinates { (wiki.txt,13.3493) };
            \addlegendentry{algo=BPR\_ref};
            \addplot coordinates { (wiki.txt,0.00939793) };
            \addlegendentry{algo=Deep-Shallow\_ref};
            \addplot coordinates { (wiki.txt,3.125) };
            \addlegendentry{algo=SAIS-LITE\_ref};
            \addplot coordinates { (wiki.txt,3.22572) };
            \addlegendentry{algo=MSufSort\_ref};
            \addplot coordinates { (wiki.txt,7.82311e-07) };
            \addlegendentry{algo=SACA-K\_ref};
            \addplot coordinates { (wiki.txt,12.5) };
            \addlegendentry{algo=qsufsort\_ref};
            \addplot coordinates { (wiki.txt,0.269095) };
            \addlegendentry{algo=SAIS\_ref};
            \addplot coordinates { (wiki.txt,9.375) };
            \addlegendentry{algo=GSACA\_ref};
            \addplot coordinates { (wiki.txt,0.360081) };
            \addlegendentry{algo=SADS\_ref};
            \addplot coordinates { (wiki.txt,18.3842) };
            \addlegendentry{algo=DC3\_ref};

            \legend{}
        \end{axis}
    \end{tikzpicture}
    \medskip
    \ref{runtime-all-ref-0}
    \caption{Vergleich der sequentiellen Referenzimplementierungen mit Laufzeit und Speicherbedarf auf wiki.txt}
\end{figure}

\begin{figure}[ht]
    \textbf{Configuration} \hfill Input file: dna.txt \hfill Prefix size: 800\,MiB \\ Model name: Intel\textsuperscript{\textregistered} Xeon\textsuperscript{\textregistered} CPU E5-2640 v4 @ 2.40GHz
    \centering\small
    \begin{tikzpicture}[trim axis left]
        \begin{axis}[batchTimePlot,
            cycle list name={exotic},
            legend to name=runtime-all-ref-1,
            width=\textwidth,
            height=60mm,
            xtick style = {draw=none},
            xticklabel pos=upper,
            title={},
            bar width=12pt,
            ylabel={SA construction time [min]},
            legend style={
                /tikz/every even column/.append style={column sep=0.5cm,black},
                /tikz/every even column/.append style={black},
            },
            legend columns=2,
            symbolic x coords={ dna.txt },
            every node near coord/.append style={color=black, rotate=90, anchor=west},
            ]

            %% MULTIPLOT(algo) SELECT algo, REPLACE(input, "_", "\_") AS x, time/1000/60 AS y
            %% FROM ( 
            %% SELECT algo, input, sacheck, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep_id, MEDIAN(time) AS time FROM results_sequential GROUP BY algo, input, prefix, rep_id
            %% ) WHERE input="dna.txt" AND prefix=838860800 AND sacheck="ok"
            %% AND (algo LIKE "%_ref%" AND NOT algo LIKE "%par")
            %% AND rep_id=1 GROUP BY MULTIPLOT,x ORDER BY y
            \addplot coordinates { (dna.txt,2.05917) };
            \addlegendentry{algo=DivSufSort\_ref};
            \addplot coordinates { (dna.txt,2.71512) };
            \addlegendentry{algo=SAIS-LITE\_ref};
            \addplot coordinates { (dna.txt,2.89482) };
            \addlegendentry{algo=Deep-Shallow\_ref};
            \addplot coordinates { (dna.txt,2.99629) };
            \addlegendentry{algo=BPR\_ref};
            \addplot coordinates { (dna.txt,4.34736) };
            \addlegendentry{algo=MSufSort\_ref};
            \addplot coordinates { (dna.txt,4.91973) };
            \addlegendentry{algo=SACA-K\_ref};
            \addplot coordinates { (dna.txt,5.44533) };
            \addlegendentry{algo=qsufsort\_ref};
            \addplot coordinates { (dna.txt,6.28076) };
            \addlegendentry{algo=GSACA\_ref};
            \addplot coordinates { (dna.txt,6.79781) };
            \addlegendentry{algo=SAIS\_ref};
            \addplot coordinates { (dna.txt,8.94179) };
            \addlegendentry{algo=SADS\_ref};
            \addplot coordinates { (dna.txt,16.6623) };
            \addlegendentry{algo=DC3\_ref};
        \end{axis}
    \end{tikzpicture}
    \begin{tikzpicture}[trim axis left]
        \begin{axis}[batchTimePlot,
            cycle list name={exotic},
            width=\textwidth,
            height=60mm,
            xtick style = {draw=none},
            y dir=reverse,
            title={},
            bar width=12pt,
            ylabel={Extra Memory [GiB]},
            legend style={
                /tikz/every even column/.append style={column sep=0.5cm,black},
                /tikz/every even column/.append style={black},
            },
            legend columns=2,
            symbolic x coords={ dna.txt },
            every node near coord/.append style={color=black, rotate=90, anchor=east, /pgf/number format/fixed},
            ]

            %% MULTIPLOT(algo) SELECT algo, REPLACE(input, "_", "\_") AS x, memPeak/1024/1024/1024 AS y
            %% FROM ( 
            %% SELECT algo, input, sacheck, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep_id, MEDIAN(time) AS time FROM results_sequential GROUP BY algo, input, prefix, rep_id
            %% ) WHERE input="dna.txt" AND prefix=838860800 AND sacheck="ok"
            %% AND (algo LIKE "%_ref%" AND NOT algo LIKE "%par")
            %% AND rep_id=1 GROUP BY MULTIPLOT,x ORDER BY time
            \addplot coordinates { (dna.txt,0.000249021) };
            \addlegendentry{algo=DivSufSort\_ref};
            \addplot coordinates { (dna.txt,3.125) };
            \addlegendentry{algo=SAIS-LITE\_ref};
            \addplot coordinates { (dna.txt,0.00937501) };
            \addlegendentry{algo=Deep-Shallow\_ref};
            \addplot coordinates { (dna.txt,13.2814) };
            \addlegendentry{algo=BPR\_ref};
            \addplot coordinates { (dna.txt,3.92618) };
            \addlegendentry{algo=MSufSort\_ref};
            \addplot coordinates { (dna.txt,1.86265e-08) };
            \addlegendentry{algo=SACA-K\_ref};
            \addplot coordinates { (dna.txt,12.5) };
            \addlegendentry{algo=qsufsort\_ref};
            \addplot coordinates { (dna.txt,9.375) };
            \addlegendentry{algo=GSACA\_ref};
            \addplot coordinates { (dna.txt,0.235499) };
            \addlegendentry{algo=SAIS\_ref};
            \addplot coordinates { (dna.txt,0.334526) };
            \addlegendentry{algo=SADS\_ref};
            \addplot coordinates { (dna.txt,17.5154) };
            \addlegendentry{algo=DC3\_ref};

            \legend{}
        \end{axis}
    \end{tikzpicture}
    \medskip
    \ref{runtime-all-ref-1}
    \caption{Vergleich der sequentiellen Referenzimplementierungen mit Laufzeit und Speicherbedarf auf dna.txt}
\end{figure}

\begin{figure}[ht]
    \textbf{Configuration} \hfill Input file: commoncrawl.txt \hfill Prefix size: 800\,MiB \\ Model name: Intel\textsuperscript{\textregistered} Xeon\textsuperscript{\textregistered} CPU E5-2640 v4 @ 2.40GHz
    \centering\small
    \begin{tikzpicture}[trim axis left]
        \begin{axis}[batchTimePlot,
            cycle list name={exotic},
            legend to name=runtime-all-ref-2,
            width=\textwidth,
            height=60mm,
            xtick style = {draw=none},
            xticklabel pos=upper,
            title={},
            bar width=12pt,
            ylabel={SA construction time [min]},
            legend style={
                /tikz/every even column/.append style={column sep=0.5cm,black},
                /tikz/every even column/.append style={black},
            },
            legend columns=2,
            symbolic x coords={ commoncrawl.txt },
            every node near coord/.append style={color=black, rotate=90, anchor=west},
            ]

            %% MULTIPLOT(algo) SELECT algo, REPLACE(input, "_", "\_") AS x, time/1000/60 AS y
            %% FROM ( 
            %% SELECT algo, input, sacheck, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep_id, MEDIAN(time) AS time FROM results_sequential GROUP BY algo, input, prefix, rep_id
            %% ) WHERE input="commoncrawl.txt" AND prefix=838860800 AND sacheck="ok"
            %% AND (algo LIKE "%_ref%" AND NOT algo LIKE "%par")
            %% AND rep_id=1 GROUP BY MULTIPLOT,x ORDER BY y
            \addplot coordinates { (commoncrawl.txt,1.5745) };
            \addlegendentry{algo=DivSufSort\_ref};
            \addplot coordinates { (commoncrawl.txt,2.28537) };
            \addlegendentry{algo=SAIS-LITE\_ref};
            \addplot coordinates { (commoncrawl.txt,2.889) };
            \addlegendentry{algo=BPR\_ref};
            \addplot coordinates { (commoncrawl.txt,3.24651) };
            \addlegendentry{algo=Deep-Shallow\_ref};
            \addplot coordinates { (commoncrawl.txt,3.33703) };
            \addlegendentry{algo=MSufSort\_ref};
            \addplot coordinates { (commoncrawl.txt,4.43887) };
            \addlegendentry{algo=SACA-K\_ref};
            \addplot coordinates { (commoncrawl.txt,5.9169) };
            \addlegendentry{algo=SAIS\_ref};
            \addplot coordinates { (commoncrawl.txt,6.09891) };
            \addlegendentry{algo=GSACA\_ref};
            \addplot coordinates { (commoncrawl.txt,6.92753) };
            \addlegendentry{algo=qsufsort\_ref};
            \addplot coordinates { (commoncrawl.txt,7.57719) };
            \addlegendentry{algo=SADS\_ref};
            \addplot coordinates { (commoncrawl.txt,22.2288) };
            \addlegendentry{algo=DC3\_ref};
        \end{axis}
    \end{tikzpicture}
    \begin{tikzpicture}[trim axis left]
        \begin{axis}[batchTimePlot,
            cycle list name={exotic},
            width=\textwidth,
            height=60mm,
            xtick style = {draw=none},
            y dir=reverse,
            title={},
            bar width=12pt,
            ylabel={Extra Memory [GiB]},
            legend style={
                /tikz/every even column/.append style={column sep=0.5cm,black},
                /tikz/every even column/.append style={black},
            },
            legend columns=2,
            symbolic x coords={ commoncrawl.txt },
            every node near coord/.append style={color=black, rotate=90, anchor=east, /pgf/number format/fixed},
            ]

            %% MULTIPLOT(algo) SELECT algo, REPLACE(input, "_", "\_") AS x, memPeak/1024/1024/1024 AS y
            %% FROM ( 
            %% SELECT algo, input, sacheck, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep_id, MEDIAN(time) AS time FROM results_sequential GROUP BY algo, input, prefix, rep_id
            %% ) WHERE input="commoncrawl.txt" AND prefix=838860800 AND sacheck="ok"
            %% AND (algo LIKE "%_ref%" AND NOT algo LIKE "%par")
            %% AND rep_id=1 GROUP BY MULTIPLOT,x ORDER BY time
            \addplot coordinates { (commoncrawl.txt,0.000249021) };
            \addlegendentry{algo=DivSufSort\_ref};
            \addplot coordinates { (commoncrawl.txt,3.125) };
            \addlegendentry{algo=SAIS-LITE\_ref};
            \addplot coordinates { (commoncrawl.txt,13.3868) };
            \addlegendentry{algo=BPR\_ref};
            \addplot coordinates { (commoncrawl.txt,0.00945246) };
            \addlegendentry{algo=Deep-Shallow\_ref};
            \addplot coordinates { (commoncrawl.txt,3.15495) };
            \addlegendentry{algo=MSufSort\_ref};
            \addplot coordinates { (commoncrawl.txt,9.05246e-07) };
            \addlegendentry{algo=SACA-K\_ref};
            \addplot coordinates { (commoncrawl.txt,0.26491) };
            \addlegendentry{algo=SAIS\_ref};
            \addplot coordinates { (commoncrawl.txt,9.375) };
            \addlegendentry{algo=GSACA\_ref};
            \addplot coordinates { (commoncrawl.txt,12.5) };
            \addlegendentry{algo=qsufsort\_ref};
            \addplot coordinates { (commoncrawl.txt,0.338007) };
            \addlegendentry{algo=SADS\_ref};
            \addplot coordinates { (commoncrawl.txt,18.6777) };
            \addlegendentry{algo=DC3\_ref};

            \legend{}
        \end{axis}
    \end{tikzpicture}
    \medskip
    \ref{runtime-all-ref-2}
    \caption{Vergleich der sequentiellen Referenzimplementierungen mit Laufzeit und Speicherbedarf auf commoncrawl.txt}
\end{figure}
\FloatBarrier

In \currentauthor{Johannes Bahne} diesem Kapitel werden die sequentiellen Referenzimplementierungen miteinander verglichen. Wie im vorherigen Abschnitt sind die Implementierungen auf demselben Messsystem mit denselben Eingabetexten getestet worden. Die Präfixgröße wurde jedoch von 800\,MiB auf 800\,MiB heruntergesetzt, da nicht alle Referenzalgorithmen für derart große Eingaben lauffähig sind.

Auf den Testdaten \texttt{wiki.txt} und \texttt{commoncrawl.txt} weisen die Implementierungen des DivSufSort\_ref und SAIS-LITE\_ref die besten Laufzeiten auf. Auf dem repetitiven Text \texttt{dna.txt} liegt der Deep-Shallow\_ref jedoch auf dem zweiten Platz. Die schlechtesten Algorithmen in dieser Auswertung bezüglich der Laufzeit sind der DC3\_ref und der SADS\_ref.

Die Referenzimplementierungen teilen sich bezüglich des zusätzlichen Speicherverbrauches in zwei Gruppen auf -- die, die überwiegend keinen Extra-Speicher benötigen und die, die relativ viel Extra-Speicher verbrauchen. Zu der ersten Gruppe gehören die Implementierungen DivSufSort\_ref, Deep-Shal\-low\_ref, SACA-K\_ref, SAIS\_ref und SADS\_ref. Zu der zweiten Gruppe zählen DC3\_ref, BPR\_ref, qSufSort\_ref und GSACA\_ref. Diese Reihenfolge ist unabhängig von den Testdaten. So benötigt der DC3\_ref bei einer Eingabegröße von $800$\,MiB je nach Datei rund $18$ GiB zusätzlichen Speicher. Demgegenüber berechnen der DivSufSort\_ref und SACA-K\_ref das Suffix-Array ohne zusätzlichen Speicher. Aber auch der SAIS\_ref nimmt nur etwa $250$\,MiB zusätzlichen Speicher in Anspruch.

Auch zu den Referenzimplementierungen können weitere Informationen dem \cref{anhang:messwerte:smallfiles} entnommen werden.
