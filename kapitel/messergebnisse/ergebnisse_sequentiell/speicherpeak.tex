\subsection{Speicherpeak}

\Cref{messung:tab:mem} entnehmen wir den mediane Speicherverbrauch. Der Wert setzt sich zusammen aus der Allokation für den Eingabetext inklusive der vom Algorithmus benötigten extra Sentinel Bytes, die Allokation für das Ausgabe \sa und dem vom Algorithmus selbst benötigten Speichers.
Pro Eingabe sind erneut die besten drei Algorithmen mit Grün markiert, und die schlechtesten drei mit Rot.

\begin{table}
\caption{Speicherpeak in GiB}
\label{messung:tab:mem}
\resizebox{\textwidth}{!}{
\begin{tabular}{lrrrrrrrrrrrrrrr}
\toprule
     & \rotatebox[origin=c]{90}{\texttt{pc\_dblp.xml}} & \rotatebox[origin=c]{90}{\texttt{pc\_dna}} & \rotatebox[origin=c]{90}{\texttt{pc\_english}} & \rotatebox[origin=c]{90}{\texttt{pc\_proteins}} & \rotatebox[origin=c]{90}{\texttt{pc\_sources}} & \rotatebox[origin=c]{90}{\texttt{pcr\_cere}} & \rotatebox[origin=c]{90}{\texttt{pcr\_para}} & \rotatebox[origin=c]{90}{\texttt{pcr\_einstein.en.txt}} & \rotatebox[origin=c]{90}{\texttt{pcr\_kernel}} & \rotatebox[origin=c]{90}{\texttt{pcr\_fib41}} & \rotatebox[origin=c]{90}{\texttt{pcr\_rs.13}} & \rotatebox[origin=c]{90}{\texttt{pcr\_tm29}} & \rotatebox[origin=c]{90}{\texttt{cc\_commoncrawl.ascii}} & \rotatebox[origin=c]{90}{\texttt{tagme\_wiki-disamb30}} & \rotatebox[origin=c]{90}{\texttt{wiki\_all\_vital.txt}} \\
\midrule
    $\text{BPR}$ & 2.417 & 1.938 & 1.844 & 1.846 & 1.850 & 2.208 & 2.208 & 1.772 & 1.789 & 2.720 & 2.720 & 2.720 & 3.061 & 1.823 & 1.822 \\
    $\text{BPR}_{\text{ref}}$ & {\color{red}4.303} & {\color{red}4.305} & {\color{red}4.382} & {\color{red}4.300} & {\color{red}4.388} & {\color{red}4.297} & {\color{red}4.297} & {\color{red}4.311} & {\color{red}4.327} & 4.297 & {\color{red}4.297} & {\color{red}4.297} & {\color{red}4.308} & {\color{red}4.361} & {\color{red}4.360} \\
    $\text{DC3}$ & 4.056 & 4.093 & 4.098 & 4.088 & 4.096 & 4.093 & 4.093 & 4.098 & 4.099 & 4.101 & 4.101 & 4.101 & 4.096 & 4.056 & 4.081 \\
    $\text{DC3-Lite}$ & 2.539 & 2.539 & 2.539 & 2.539 & 2.539 & 2.539 & 2.539 & 2.539 & 2.539 & 2.539 & 2.539 & 2.539 & 2.539 & 2.539 & 2.539 \\
    $\text{DC3}_{\text{ref}}$ & {\color{red}5.458} & {\color{red}5.623} & {\color{red}5.646} & {\color{red}5.603} & {\color{red}5.637} & {\color{red}5.623} & {\color{red}5.623} & {\color{red}5.646} & {\color{red}5.652} & {\color{red}5.660} & {\color{red}5.660} & {\color{red}5.660} & {\color{red}5.637} & {\color{red}5.458} & {\color{red}5.573} \\
    $\text{DC7}$ & 2.938 & 2.938 & 2.938 & 2.938 & 2.938 & 2.938 & 2.938 & 2.938 & 2.938 & 2.938 & 2.938 & 2.938 & 2.938 & 2.938 & 2.938 \\
    $\text{Deep-Shallow}$ & 0.979 & 0.979 & 0.980 & 0.979 & 0.980 & {\color{darkgray}--} & {\color{darkgray}--} & {\color{darkgray}--} & 0.979 & {\color{darkgray}--} & {\color{darkgray}--} & {\color{darkgray}--} & 0.979 & 0.980 & 0.980 \\
    $\text{Deep-Shallow}_{\text{ref}}$ & 0.979 & 0.979 & 0.979 & 0.979 & 0.979 & 0.979 & 0.979 & 0.981 & 0.979 & 0.984 & 0.984 & 0.984 & 0.979 & 0.979 & 0.979 \\
    $\text{Discarding2}$ & 3.322 & 3.322 & 3.322 & 3.322 & 3.322 & 3.322 & 3.322 & 3.322 & 3.322 & 3.322 & 3.322 & 3.322 & 3.322 & 3.322 & 3.322 \\
    $\text{Discarding4}$ & {\color{red}4.885} & {\color{red}4.885} & {\color{red}4.885} & {\color{red}4.885} & {\color{red}4.885} & {\color{red}4.885} & {\color{red}4.885} & {\color{red}4.885} & {\color{red}4.885} & {\color{red}4.885} & {\color{red}4.885} & {\color{red}4.885} & {\color{red}4.885} & {\color{red}4.885} & {\color{red}4.885} \\
    $\text{DivSufSort}$ & 1.621 & 1.608 & 1.662 & 1.670 & 1.619 & 1.579 & 1.594 & 1.642 & 1.623 & {\color{darkgray}--} & {\color{darkgray}--} & {\color{darkgray}--} & 1.648 & 1.651 & 1.666 \\
    $\text{DivSufSort}_{\text{ref}}$ & 0.977 & 0.977 & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} \\
    $\text{GSACA}$ & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 \\
    $\text{GSACA}_{\text{ref}}$ & 3.320 & 3.320 & 3.320 & 3.320 & 3.320 & 3.320 & 3.320 & 3.320 & 3.320 & 3.320 & 3.320 & 3.320 & 3.320 & 3.320 & 3.320 \\
    $\text{MSufSort}$ & 1.086 & 1.352 & 1.352 & 1.164 & 1.166 & {\color{darkgray}--} & 1.352 & 1.164 & 1.165 & 2.227 & 1.852 & 2.227 & 1.164 & 1.165 & 1.164 \\
    $\text{MSufSort}_{\text{ref}}$ & 1.783 & 1.959 & 1.788 & 1.783 & 1.769 & 2.159 & 2.159 & 1.787 & 1.771 & 2.840 & 2.440 & 2.440 & 1.768 & 1.783 & 1.783 \\
    $\text{Naiv}$ & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{darkgray}--} & {\color{darkgray}--} & {\color{darkgray}--} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} \\
    $\text{NzSufSort}$ & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & 0.977 & 1.172 & 1.173 & {\color{darkgray}--} & {\color{darkgray}--} & 1.172 & 1.172 & 1.172 & 1.172 & 1.172 & 1.172 & 1.172 & 0.977 \\
    $\text{Qsufsort}$ & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 \\
    $\text{Qsufsort}_{\text{ref}}$ & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 & 4.102 \\
    $\text{SACA-K}$ & 1.103 & 1.310 & 1.267 & 1.366 & 1.218 & 1.011 & 1.022 & 0.977 & 0.993 & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & 1.203 & 1.279 & 1.294 \\
    $\text{SACA-K}_{\text{ref}}$ & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} & {\color{green!60!black}0.977} \\
    $\text{SADS}$ & 1.434 & 1.553 & 1.510 & 1.526 & 1.493 & 1.310 & 1.320 & 1.281 & 1.295 & 1.293 & 1.291 & 1.274 & 1.465 & 1.510 & 1.542 \\
    $\text{SADS}_{\text{ref}}$ & 1.041 & 1.092 & 1.076 & 1.077 & 1.061 & 1.020 & 1.022 & 1.015 & 1.016 & 1.016 & 1.016 & 1.014 & 1.055 & 1.071 & 1.080 \\
    $\text{SAIS}$ & 2.391 & 3.003 & 3.394 & 2.824 & 3.190 & 2.939 & 2.942 & 3.321 & 3.520 & {\color{red}4.688} & 3.516 & 4.297 & 2.986 & 2.222 & 2.622 \\
    $\text{SAIS-LITE}_{\text{ref}}$ & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 & 1.758 \\
    $\text{SAIS}_{\text{ref}}$ & 1.027 & 1.052 & 1.048 & 1.060 & 1.040 & 1.014 & 1.015 & 1.012 & 1.012 & 1.016 & 1.015 & 1.014 & 1.039 & 1.049 & 1.051 \\
\bottomrule
\end{tabular}
}
\end{table}

% IMPORT-DATA memstats results/batch.txt

\begin{figure}[ht]
    \textbf{Configuration} \hfill Prefix size: 10485760 \hfill Model name: Intel(R) Core(TM) i5-6300U CPU @ 2.40GHz \hfill Repetitions: 1
    \centering\small

    \begin{tikzpicture}
        \begin{axis}[batchMemPlot,
                cycle list name={exotic},
                legend to name=legend1,
                legend style={
                    /tikz/every even column/.append style={column sep=0.5cm,black},
                    /tikz/every even column/.append style={black},
                },
                legend columns=4,
                symbolic x coords={ pc\_english.200MB },
                every node near coord/.append style={color=black, rotate=90, anchor=west},
            ]

            %% MULTIPLOT(algo) SELECT algo, REPLACE(input, "_", "\_") AS x, memPeak/1000/1000 AS y
            %% FROM ( 
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep_id, MEDIAN(time) AS time FROM stats GROUP BY algo, input, prefix, rep_id
            %% ) WHERE input="pc_english.200MB" AND rep_id=1 GROUP BY MULTIPLOT,x ORDER BY algo
            \addplot coordinates { (pc\_english.200MB,59.9278) };
            \addlegendentry{algo=BPR};
            \addplot coordinates { (pc\_english.200MB,195.838) };
            \addlegendentry{algo=BPR\_ref};
            \addplot coordinates { (pc\_english.200MB,167.774) };
            \addlegendentry{algo=GSACA};
            \addplot coordinates { (pc\_english.200MB,125.829) };
            \addlegendentry{algo=GSACA\_ref};
        \end{axis}
    \end{tikzpicture}

    \medskip
    \ref{legend1}
    \caption{TODO: Das hier sind nur Beispiel-Messungen}
    \label{messungen:speicher:bpr_gsaca}
\end{figure}
\FloatBarrier
