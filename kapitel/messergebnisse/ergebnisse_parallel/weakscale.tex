\subsection{Weak Scaling}

\textbf{Configuration} \hfill Model name: none
% IMPORT-DATA stats0 result/result_algorithm.txt

\begin{figure}[ht]
    \begin{tikzpicture}
        \begin{axis}[
                name=axis1,
                cycle list name={exoticlines},
                width=0.9\textwidth,
                height=70mm,
                title={commoncrawl.txt},
                xlabel={num Threads, input size [200\,MB]},
                ylabel={SA construction time [s]},
                legend columns=2,
                legend to name=legend_wsc0,
                legend style={
                    /tikz/every even column/.append style={column sep=0.5cm,black},
                    /tikz/every even column/.append style={black},
                },
            ]

            %% MULTIPLOT(algo) SELECT thread_count AS x, time/1000 AS y, MULTIPLOT
            %% FROM (
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep, thread_count, MEDIAN(time) AS time FROM stats0 GROUP BY algo, input, prefix, rep, thread_count
            %% ) WHERE input="commoncrawl.txt" GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x
            \addplot coordinates { (1,28.3201) (2,53.7852) (4,101.703) (8,259.546) (12,349.011) (16,482.9) };
            \addlegendentry{algo=BPR\_par};
            \addplot coordinates { (1,197.796) (2,254.892) (4,394.846) (8,699.327) (12,1014.76) };
            \addlegendentry{algo=DC3-Parallel-2};
            \addplot coordinates { (1,201.311) (2,258.411) (4,321.017) (8,486.893) (12,683.204) };
            \addlegendentry{algo=DC3\_parallel};
            \addplot coordinates { (1,466.243) (2,433.31) (4,585.01) };
            \addlegendentry{algo=Deep-Shallow\_par};
            \addplot coordinates { (1,213.125) (2,252.142) (4,312.483) (8,405.748) };
            \addlegendentry{algo=Discarding4Parallel};
            \addplot coordinates { (12,6.7867) (16,9.19907) (20,11.8247) };
            \addlegendentry{algo=DivSufSort\_PARALLEL\_ref};
            \addplot coordinates { (1,26.2536) (2,48.9508) (4,94.4924) (8,190.927) (12,6.79294) (16,9.14023) (20,13.2352) };
            \addlegendentry{algo=DivSufSort\_par\_ref};
            \addplot coordinates { (1,282.215) (2,297.359) (4,361.878) (8,512.949) (12,633.072) (16,775.13) (20,835.304) };
            \addlegendentry{algo=NaivParallel};
            \addplot coordinates { (1,253.648) (2,390.811) (4,525.669) };
            \addlegendentry{algo=Osipov\_parallel\_wp};
            \addplot coordinates { (1,54.9976) (2,110.308) (4,240.827) (8,506.268) };
            \addlegendentry{algo=PARALLEL\_SAIS};
            \addplot coordinates { (1,537.956) (2,2622.85) (4,5518.39) };
            \addlegendentry{algo=mSufSortV2\_par};
            \addplot coordinates { (1,533.99) (2,2490.84) (4,5604.1) };
            \addlegendentry{algo=mSufSort\_par};
            \addplot coordinates { (1,230.466) (2,490.439) (4,866.115) (8,1717.57) };
            \addlegendentry{algo=mSufSort\_scan\_par};

        \end{axis}
    \end{tikzpicture}
    \hfill
    \begin{tikzpicture}
        \begin{axis}[
                cycle list name={exoticlines},
                at={(axis1.outer north east)},
                anchor=outer north west,
                name=axis2,
                width=0.9\textwidth,
                height=70mm,
                title={commoncrawl.txt},
                xlabel={num Threads, input size [200\,MB]},
                ylabel={Extra Memory [MB]},
            ]

            %% MULTIPLOT(algo) SELECT thread_count AS x, memPeak/1000000 AS y, MULTIPLOT
            %% FROM (
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep, thread_count, MEDIAN(time) AS time FROM stats0 GROUP BY algo, input, prefix, rep, thread_count
            %% ) WHERE input="commoncrawl.txt" GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x
            \addplot coordinates { (1,1102.64) (2,1958.57) (4,3872.01) (8,7686.62) (12,11501.2) (16,15315.8) };
            \addlegendentry{algo=BPR\_par};
            \addplot coordinates { (1,3351.13) (2,6702.34) (4,13404.6) (8,26825.5) (12,40239.3) };
            \addlegendentry{algo=DC3-Parallel-2};
            \addplot coordinates { (1,3351.13) (2,6702.34) (4,13404.6) (8,26826.2) (12,40238.9) };
            \addlegendentry{algo=DC3\_parallel};
            \addplot coordinates { (1,3.737654) (2,6.16271) (4,50.3258) };
            \addlegendentry{algo=Deep-Shallow\_par};
            \addplot coordinates { (1,4196.45) (2,8393) (4,16785.9) (8,33571.7) };
            \addlegendentry{algo=Discarding4Parallel};
            \addplot coordinates { (12,0.0) (16,0.0) (20,0.0) };
            \addlegendentry{algo=DivSufSort\_PARALLEL\_ref};
            \addplot coordinates { (1,0.26492) (2,0.265752) (4,0.267384) (8,0.270648) (12,0.0) (16,0.0) (20,0.0) };
            \addlegendentry{algo=DivSufSort\_par\_ref};
            \addplot coordinates { (1,838.8608) (2,3355.45) (4,6710.89) (8,13421.8) (12,20132.7) (16,26843.6) (20,33554.5) };
            \addlegendentry{algo=NaivParallel};
            \addplot coordinates { (1,6709.8) (2,18450.3) (4,36903.6) };
            \addlegendentry{algo=Osipov\_parallel\_wp};
            \addplot coordinates { (1,441.157) (2,551.443) (4,750.204) (8,1120.24) };
            \addlegendentry{algo=PARALLEL\_SAIS};
            \addplot coordinates { (1,216.928) (2,438.079) (4,876.556) };
            \addlegendentry{algo=mSufSortV2\_par};
            \addplot coordinates { (1,216.927) (2,438.045) (4,876.419) };
            \addlegendentry{algo=mSufSort\_par};
            \addplot coordinates { (1,25.61608) (2,50.8036) (4,60.097) (8,145.516) };
            \addlegendentry{algo=mSufSort\_scan\_par};

            \legend{}
        \end{axis}
    \end{tikzpicture}

    \medskip
    \centering
    \ref{legend_wsc0}
\end{figure}

\textbf{Configuration} \hfill Prefix size: 200.0 MiB \hfill Model name: none
% IMPORT-DATA stats1 result/result_algorithm.txt

\begin{figure}[ht]
    \begin{tikzpicture}
        \begin{axis}[
                name=axis1,
                cycle list name={exoticlines},
                width=0.9\textwidth,
                height=70mm,
                title={dna.txt},
                xlabel={num Threads, input size [200\,MB]},
                ylabel={SA construction time [s]},
                legend columns=2,
                legend to name=legend_wsc1,
                legend style={
                    /tikz/every even column/.append style={column sep=0.5cm,black},
                    /tikz/every even column/.append style={black},
                },
            ]

            %% MULTIPLOT(algo) SELECT thread_count AS x, time/1000 AS y, MULTIPLOT
            %% FROM (
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep, thread_count, MEDIAN(time) AS time FROM stats1 GROUP BY algo, input, prefix, rep, thread_count
            %% ) WHERE input="dna.txt" GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x
            \addplot coordinates { (1,63.1754) (2,103.771) (4,173.232) };
            \addlegendentry{algo=BPR\_par};
            \addplot coordinates { (1,186.903) (2,236.359) (4,362.365) (8,631.145) (12,1023.56) };
            \addlegendentry{algo=DC3-Parallel-2};
            \addplot coordinates { (1,193.22) (2,248.767) (4,301.559) (8,423.074) (12,663.495) };
            \addlegendentry{algo=DC3\_parallel};
            \addplot coordinates { (1,110.669) (2,148.311) (4,191.092) (8,266.535) (12,347.304) (16,554.952) (20,648.513) };
            \addlegendentry{algo=Deep-Shallow\_par};
            \addplot coordinates { (1,146.902) (2,180.93) (4,220.751) (8,276.432) };
            \addlegendentry{algo=Discarding4Parallel};
            \addplot coordinates { (12,6.77951) (16,9.47959) (20,11.8423) };
            \addlegendentry{algo=DivSufSort\_PARALLEL\_ref};
            \addplot coordinates { (1,31.0103) (2,60.9909) (4,123.942) (8,254.558) (12,6.80777) (16,9.52552) (20,12.7954) };
            \addlegendentry{algo=DivSufSort\_par\_ref};
            \addplot coordinates { (1,141.602) (2,203.974) (4,217.835) (8,251.405) (12,278.451) (16,298.628) (20,308.998) };
            \addlegendentry{algo=NaivParallel};
            \addplot coordinates { (1,177.949) (2,265.077) (4,359.638) };
            \addlegendentry{algo=Osipov\_parallel\_wp};
            \addplot coordinates { (1,66.2391) (2,120.091) (4,247.39) (8,539.242) };
            \addlegendentry{algo=PARALLEL\_SAIS};
            \addplot coordinates { (1,140.409) (2,410.249) (4,785.61) (8,1748.46) };
            \addlegendentry{algo=mSufSortV2\_par};
            \addplot coordinates { (1,141.758) (2,387.786) (4,723.922) (8,1662.09) };
            \addlegendentry{algo=mSufSort\_par};
            \addplot coordinates { (1,77.2322) (2,163.488) (4,346.008) (8,754.696) };
            \addlegendentry{algo=mSufSort\_scan\_par};

        \end{axis}
    \end{tikzpicture}
    \hfill
    \begin{tikzpicture}
        \begin{axis}[
                cycle list name={exoticlines},
                at={(axis1.outer north east)},
                anchor=outer north west,
                name=axis2,
                width=0.9\textwidth,
                height=70mm,
                title={dna.txt},
                xlabel={num Threads, input size [200\,MB]},
                ylabel={Extra Memory [MB]},
            ]

            %% MULTIPLOT(algo) SELECT thread_count AS x, memPeak/1000000 AS y, MULTIPLOT
            %% FROM (
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep, thread_count, MEDIAN(time) AS time FROM stats1 GROUP BY algo, input, prefix, rep, thread_count
            %% ) WHERE input="dna.txt" GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x
            \addplot coordinates { (1,1424.8) (2,6560.54) (4,12144.5) };
            \addlegendentry{algo=BPR\_par};
            \addplot coordinates { (1,3283.95) (2,6567.98) (4,13135.8) (8,26271.4) (12,39701.8) };
            \addlegendentry{algo=DC3-Parallel-2};
            \addplot coordinates { (1,3283.95) (2,6567.98) (4,13135.9) (8,26271.6) (12,39701.6) };
            \addlegendentry{algo=DC3\_parallel};
            \addplot coordinates { (1,2.293504) (2,4.582136) (4,9.159374) (8,18.3138) (12,27.5889) (16,36.7443) (20,45.8988) };
            \addlegendentry{algo=Deep-Shallow\_par};
            \addplot coordinates { (1,4196.45) (2,8393) (4,16785.9) (8,33571.7) };
            \addlegendentry{algo=Discarding4Parallel};
            \addplot coordinates { (12,0.0) (16,0.0) (20,0.0) };
            \addlegendentry{algo=DivSufSort\_PARALLEL\_ref};
            \addplot coordinates { (1,0.26492) (2,0.265752) (4,0.267384) (8,0.270648) (12,0.0) (16,0.0) (20,0.0) };
            \addlegendentry{algo=DivSufSort\_par\_ref};
            \addplot coordinates { (1,838.8608) (2,3355.45) (4,6710.89) (8,13421.8) (12,20132.7) (16,26843.6) (20,33554.5) };
            \addlegendentry{algo=NaivParallel};
            \addplot coordinates { (1,6710.89) (2,18454.9) (4,36909.9) };
            \addlegendentry{algo=Osipov\_parallel\_wp};
            \addplot coordinates { (1,428.56) (2,519.176) (4,702.291) (8,1089.74) };
            \addlegendentry{algo=PARALLEL\_SAIS};
            \addplot coordinates { (1,505.097) (2,945.408) (4,1862.58) (8,3872.91) };
            \addlegendentry{algo=mSufSortV2\_par};
            \addplot coordinates { (1,505.098) (2,940.998) (4,1861.68) (8,3845.08) };
            \addlegendentry{algo=mSufSort\_par};
            \addplot coordinates { (1,100.664) (2,402.657) (4,801.564) (8,1594.94) };
            \addlegendentry{algo=mSufSort\_scan\_par};

            \legend{}
        \end{axis}
    \end{tikzpicture}

    \medskip
    \centering
    \ref{legend_wsc1}
\end{figure}

\begin{figure}[ht]
    \begin{tikzpicture}
        \begin{axis}[
                name=axis1,
                cycle list name={exoticlines},
                width=0.9\textwidth,
                height=70mm,
                title={wiki.txt},
                xlabel={num Threads, input size [200\,MB]},
                ylabel={SA construction time [s]},
                legend columns=2,
                legend to name=legend_wsc2,
                legend style={
                    /tikz/every even column/.append style={column sep=0.5cm,black},
                    /tikz/every even column/.append style={black},
                },
            ]

            %% MULTIPLOT(algo) SELECT thread_count AS x, time/1000 AS y, MULTIPLOT
            %% FROM (
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep, thread_count, MEDIAN(time) AS time FROM stats2 GROUP BY algo, input, prefix, rep, thread_count
            %% ) WHERE input="wiki.txt" GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x
            \addplot coordinates { (1,32.6066) (2,61.0962) (4,115.103) (8,228.739) };
            \addlegendentry{algo=BPR\_par};
            \addplot coordinates { (1,204.687) (2,261.756) (4,407.045) (8,715.221) (12,1077.26) };
            \addlegendentry{algo=DC3-Parallel-2};
            \addplot coordinates { (1,207.633) (2,267.559) (4,348.545) (8,465.65) (12,725.071) };
            \addlegendentry{algo=DC3\_parallel};
            \addplot coordinates { (1,84.3889) (2,107.43) (4,136.691) (8,197.34) (12,266.774) (16,312.402) (20,352.896) };
            \addlegendentry{algo=Deep-Shallow\_par};
            \addplot coordinates { (1,139.672) (2,166.976) (4,201.883) (8,269.933) };
            \addlegendentry{algo=Discarding4Parallel};
            \addplot coordinates { (12,6.861) (16,9.1399) (20,11.8342) };
            \addlegendentry{algo=DivSufSort\_PARALLEL\_ref};
            \addplot coordinates { (1,28.4601) (2,53.5819) (4,103.691) (8,206.68) (12,7.10571) (16,9.17) (20,11.8498) };
            \addlegendentry{algo=DivSufSort\_par\_ref};
            \addplot coordinates { (1,125.468) (2,156.62) (4,181.838) (8,217.287) (12,260.566) (16,274.65) (20,279.416) };
            \addlegendentry{algo=NaivParallel};
            \addplot coordinates { (1,175.464) (2,266.057) (4,347.022) };
            \addlegendentry{algo=Osipov\_parallel\_wp};
            \addplot coordinates { (1,63.8225) (2,127.985) (4,274.665) (8,606.13) };
            \addlegendentry{algo=PARALLEL\_SAIS};
            \addplot coordinates { (1,118.98) (2,328.735) (4,678.159) (8,1905.09) };
            \addlegendentry{algo=mSufSortV2\_par};
            \addplot coordinates { (1,118.444) (2,305.976) (4,839.676) (8,2092.28) };
            \addlegendentry{algo=mSufSort\_par};
            \addplot coordinates { (1,81.367) (2,242.337) (4,366.313) (8,828.944) };
            \addlegendentry{algo=mSufSort\_scan\_par};

        \end{axis}
    \end{tikzpicture}
    \hfill
    \begin{tikzpicture}
        \begin{axis}[
                cycle list name={exoticlines},
                at={(axis1.outer north east)},
                anchor=outer north west,
                name=axis2,
                width=0.9\textwidth,
                height=70mm,
                title={wiki.txt},
                xlabel={num Threads, input size [200\,MB]},
                ylabel={Extra Memory [MB]},
            ]

            %% MULTIPLOT(algo) SELECT thread_count AS x, memPeak/1000000 AS y, MULTIPLOT
            %% FROM (
            %% SELECT algo, input, MEDIAN(memFinal) AS memFinal, MEDIAN(memOff) AS memOff, AVG(memPeak) AS memPeak, prefix, rep, thread_count, MEDIAN(time) AS time FROM stats2 GROUP BY algo, input, prefix, rep, thread_count
            %% ) WHERE input="wiki.txt" GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x
            \addplot coordinates { (1,1022.15) (2,1860.85) (4,3688.84) (8,7340.64) };
            \addlegendentry{algo=BPR\_par};
            \addplot coordinates { (1,3335.77) (2,6671.63) (4,13343.2) (8,26686.1) (12,40116.5) };
            \addlegendentry{algo=DC3-Parallel-2};
            \addplot coordinates { (1,3335.77) (2,6671.63) (4,13343.2) (8,26686.1) (12,40116.4) };
            \addlegendentry{algo=DC3\_parallel};
            \addplot coordinates { (1,3.425264) (2,5.713896) (4,10.302) (8,20.1142) (12,33.1618) (16,42.45302) (20,52.0786) };
            \addlegendentry{algo=Deep-Shallow\_par};
            \addplot coordinates { (1,4196.45) (2,8393) (4,16785.9) (8,33571.7) };
            \addlegendentry{algo=Discarding4Parallel};
            \addplot coordinates { (12,0.0) (16,0.0) (20,0.0) };
            \addlegendentry{algo=DivSufSort\_PARALLEL\_ref};
            \addplot coordinates { (1,0.26492) (2,0.265752) (4,0.267384) (8,0.270648) (12,0.0) (16,0.0) (20,0.0) };
            \addlegendentry{algo=DivSufSort\_par\_ref};
            \addplot coordinates { (1,838.8608) (2,3355.45) (4,6710.89) (8,13421.8) (12,20132.7) (16,26843.6) (20,33554.5) };
            \addlegendentry{algo=NaivParallel};
            \addplot coordinates { (1,6708.58) (2,18448.3) (4,36901.4) };
            \addlegendentry{algo=Osipov\_parallel\_wp};
            \addplot coordinates { (1,447.397) (2,563.598) (4,785.64) (8,1183.75) };
            \addlegendentry{algo=PARALLEL\_SAIS};
            \addplot coordinates { (1,233.595) (2,466.837) (4,934.938) (8,1901.2) };
            \addlegendentry{algo=mSufSortV2\_par};
            \addplot coordinates { (1,233.598) (2,466.827) (4,934.561) (8,1900.78) };
            \addlegendentry{algo=mSufSort\_par};
            \addplot coordinates { (1,25.5203) (2,50.6892) (4,99.6906) (8,159.955) };
            \addlegendentry{algo=mSufSort\_scan\_par};

            \legend{}
        \end{axis}
    \end{tikzpicture}

    \medskip
    \centering
    \ref{legend_wsc2}
\end{figure}
\FloatBarrier
